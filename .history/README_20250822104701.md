# Gemma-powered Compliance Agent

A modular FastAPI agent for document ingestion, retrieval-augmented generation, and compliance-focused QA using Gemma models.

## Setup

Clone the repository and set up your environment:
```bash
git clone https://github.com/Saniya-Meghana/agent-training.git
cd agent-training
conda activate gemma-env
```

Install dependencies:
```bash
pip install -r requirements.txt
```

Run the server:
```bash
PYTHONPATH=. uvicorn app.main:app --reload
```

Access the API at [http://127.0.0.1:8000](http://127.0.0.1:8000)
Interactive docs at [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

## API Endpoints
- `POST /ask/query` — Ask questions against ingested documents
- `POST /ingest/pdf` — Upload and index PDF files

## Testing
```bash
PYTHONPATH=. pytest tests/
```

## Project Structure
```
agent-training/
├── app/                  # Main FastAPI app
│   ├── main.py           # Entry point
│   ├── routes/           # API endpoints
│   ├── services/         # Business logic
│   ├── utils/            # Helpers
│   ├── models/           # Pydantic schemas
│   └── config.py         # Centralized settings
├── tests/                # Unit tests
├── data/                 # Indexed PDFs and embeddings
├── scripts/              # CLI tools
├── notebooks/            # Prototyping
├── configs/              # YAML/JSON configs
└── README.md             # Project overview
```

##  CLI Usage
```bash
PYTHONPATH=. python scripts/ingest_pdf.py data/documents/sample.pdf
```

## Environment Variables
You can optionally set these in a `.env` file or your shell:
```env
MODEL_NAME=gemma-2b
DEVICE=mps
HF_TOKEN=your-huggingface-token
DATA_DIR=data/documents
EMBEDDINGS_DIR=data/embeddings
```

## Features
- Modular architecture with clean separation of concerns
- Retrieval-augmented generation using FAISS
- PDF ingestion and chunking
- Prompt construction for LLMs
- CLI tools for batch ingestion
- Test coverage with `pytest`

Built with  by [Saniya Meghana](https://github.com/Saniya-Meghana)
